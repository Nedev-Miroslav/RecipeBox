<header class="firstCont" xmlns:sec='http://www.thymeleaf.org/extras/spring-security'>
    <div class="firstCont d-flex align-items-center">
        <a class="navbar-brand" th:href="@{index}">
            <img alt="logo" src="/images/logo.png" class="logo">
        </a>

        <div class="container d-flex align-items-center" sec:authorize="isAuthenticated()">
            <div class="row justify-content-lg-start d-flex align-items-center">
                <p class="text-left text-white bold mb-0">Welcome to RecipeBox, </p>
                <span class="bold left-space">
                <p class="mb-0 username_name">
                    <th:block sec:authentication="name"></th:block>
                </p>
            </span>
            </div>
        </div>
    </div>


    <div class="language-selector">
        <form th:method="get" >
            <label class="text-white mb-2"  for="lang" th:text="#{nav_bar_language}">Language</label>
        <select id="lang" name="lang" class="custom-select small-select" onchange="this.form.submit()">
            <option value="en_US" th:selected="${#locale.toString()} == 'en_US'">English</option>
            <option value="bg_BG" th:selected="${#locale.toString()} == 'bg_BG'">Български</option>
        </select>
        </form>
    </div>


    <div>
        <nav class="navbar navbar-expand-lg ">
            <div class="container-fluid ">

                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item" sec:authorize="isAuthenticated()">
                            <a class="nav-link a-col" th:href="@{recipe-add}">Add Recipe</a>
                        </li>
                        <li class="nav-item" sec:authorize="isAuthenticated()">
                            <a class="nav-link a-col" aria-current="page" th:href="@{recipe-list}">All Recipes</a>
                        </li>
                        <li class="nav-item" sec:authorize="isAuthenticated()">
                            <a class="nav-link a-col" th:href="@{favorites}">Favorites</a>
                        </li>
                    </ul>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item" sec:authorize="isAnonymous()">
                            <a class="nav-link a-col" aria-current="page" th:href="@{users/login}">Login</a>
                        </li>
                        <li class="nav-item" sec:authorize="isAnonymous()">
                            <a class="nav-link a-col" th:href="@{users/register}">Register</a>
                        </li>
                        <li class="nav-item" sec:authorize="isAuthenticated()">
                            <form th:method="POST"
                                  th:action="@{users/logout}">
                                <button class="btn-reset nav-link a-col" th:href="@{/logout}">Logout</button>
                            </form>
                        </li>
                    </ul>
                </div>


            </div>
        </nav>
    </div>
</header>